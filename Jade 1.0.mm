<map version="0.9.0">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1382185302810" ID="ID_1940391207" MODIFIED="1382185408407" TEXT="Jade 1.0">
<node CREATED="1382185480997" ID="ID_971224048" MODIFIED="1382185492985" POSITION="right" TEXT="Service Framework">
<node CREATED="1382185493218" ID="ID_1302302248" MODIFIED="1382185601281" TEXT="django">
<node CREATED="1382186538811" ID="ID_75071374" MODIFIED="1382212607237" TEXT="1.5.4"/>
<node CREATED="1382186577995" ID="ID_366038629" MODIFIED="1382186590946" TEXT="Configuration interface"/>
<node CREATED="1382186591595" ID="ID_1773901202" MODIFIED="1382186594594" TEXT="Access control"/>
</node>
<node CREATED="1382185601794" ID="ID_1275908712" MODIFIED="1382185604656" TEXT="postgres">
<node CREATED="1382186549771" ID="ID_1966467699" MODIFIED="1382186570498" TEXT="9.1"/>
<node CREATED="1382186596930" ID="ID_853269354" MODIFIED="1382186615362" TEXT="Datastore"/>
</node>
<node CREATED="1382185605537" ID="ID_1350709055" MODIFIED="1382185608528" TEXT="saltstack">
<node CREATED="1382186617042" ID="ID_637921995" MODIFIED="1382186717649" TEXT="0.17.1"/>
<node CREATED="1382186718881" ID="ID_1837203521" MODIFIED="1382186724400" TEXT="Configuration Manager"/>
</node>
<node CREATED="1382185626785" ID="ID_539232410" MODIFIED="1382185628160" TEXT="varnish">
<node CREATED="1382186544627" ID="ID_1839920766" MODIFIED="1382186546842" TEXT="3.0.2"/>
<node CREATED="1382186728394" ID="ID_597358377" MODIFIED="1382186738192" TEXT="Proxying Engine"/>
</node>
<node CREATED="1382187213510" ID="ID_733716054" MODIFIED="1382187218676" TEXT="graphite">
<node CREATED="1382187661827" ID="ID_221357116" MODIFIED="1382187666913" TEXT="0.9.12"/>
<node CREATED="1382187667459" ID="ID_1802426161" MODIFIED="1382187672265" TEXT="stat store"/>
</node>
</node>
<node CREATED="1382186795321" ID="ID_1083337631" MODIFIED="1382186798624" POSITION="right" TEXT="Service Workflow">
<node CREATED="1382186799457" ID="ID_641639889" MODIFIED="1382186814045" TEXT="User logs in to portal and configures load-balancing"/>
<node CREATED="1382186814433" ID="ID_1664246512" MODIFIED="1382186844039" TEXT="Configuration persisted to datastore"/>
<node CREATED="1382186844369" ID="ID_1077624886" MODIFIED="1382186876343" TEXT="saltstack queries datastore as pillar and returns a dictionary with config payload"/>
<node CREATED="1382186876928" ID="ID_1716253835" MODIFIED="1382186897463" TEXT="salt triggers update on worker nodes"/>
<node CREATED="1382186984288" ID="ID_1473407731" MODIFIED="1382186994326" TEXT="workers update varnish config and reload"/>
</node>
<node CREATED="1382187180766" ID="ID_1162621311" MODIFIED="1382187185037" POSITION="left" TEXT="Service Scaling">
<node CREATED="1382187683171" ID="ID_1808805368" MODIFIED="1382187722209" TEXT="each instance runs a stat daemon"/>
<node CREATED="1382187736890" ID="ID_1716864823" MODIFIED="1382188536827" TEXT="when stat is above 70%, instance increments semaphore indicating it&apos;s overloaded"/>
<node CREATED="1382188382974" ID="ID_1879359293" MODIFIED="1382188550830" TEXT="when stat is below 20%, instance decrements semahpore indicating it&apos;s underloaded"/>
<node CREATED="1382187787338" ID="ID_1291500221" MODIFIED="1382188110542" TEXT="rebalancer daemon watches the semaphores">
<node CREATED="1382188115920" ID="ID_582707150" MODIFIED="1382188203845" TEXT="when semaphore &gt; 0 for any node, rebalancer spawns additional instance and updates DNS"/>
</node>
</node>
<node CREATED="1382189400383" ID="ID_1230437268" MODIFIED="1382189406029" POSITION="left" TEXT="Service Daemons">
<node CREATED="1382189407199" ID="ID_410950308" MODIFIED="1382189412109" TEXT="config-portal">
<node CREATED="1382189575853" ID="ID_1175511475" MODIFIED="1382189579852" TEXT="django"/>
<node CREATED="1382189580302" ID="ID_699641572" MODIFIED="1382189583588" TEXT="massive-sansa"/>
</node>
<node CREATED="1382189412623" ID="ID_508367704" MODIFIED="1382189440445" TEXT="config-mgr">
<node CREATED="1382189644245" ID="ID_602637784" MODIFIED="1382189645476" TEXT="salt"/>
<node CREATED="1382189645973" ID="ID_386472795" MODIFIED="1382189860779" TEXT="spawncamping-batman"/>
</node>
<node CREATED="1382189442823" ID="ID_1450669412" MODIFIED="1382189496485" TEXT="stat-daemon">
<node CREATED="1382189845388" ID="ID_157613766" MODIFIED="1382189849022" TEXT="?"/>
<node CREATED="1382189849612" ID="ID_347984109" MODIFIED="1382189853130" TEXT="secret-wookie"/>
</node>
<node CREATED="1382189498950" ID="ID_932084258" MODIFIED="1382189511925" TEXT="rebalancer">
<node CREATED="1382211452118" ID="ID_1558613070" MODIFIED="1382211457988" TEXT="?"/>
<node CREATED="1382211459429" ID="ID_1830053289" MODIFIED="1382211463500" TEXT="tripping-tribble"/>
</node>
<node CREATED="1382211535829" ID="ID_519656068" MODIFIED="1382211538459" TEXT="documentation">
<node CREATED="1382211539253" ID="ID_1295729681" MODIFIED="1382211545564" TEXT="pydoc"/>
<node CREATED="1382211546133" ID="ID_1490799405" MODIFIED="1382211553308" TEXT="freemind"/>
<node CREATED="1382211555173" ID="ID_651198027" MODIFIED="1382211558060" TEXT="freezing-spice"/>
</node>
</node>
</node>
</map>
